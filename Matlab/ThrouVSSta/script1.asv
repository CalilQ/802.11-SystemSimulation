clc
clear all
close all
%% General

offeData = 0.5;
simTime = 1.1;

%% With BA and Aggregation

nStasBA = [1:15]';
thrBA = [0.515988 0.475575 0.530536 0.546736 0.479758 0.528566 0.465785 0.49475 0.532369 0.527809 ;... % 1
         0.867896 1.0159   0.951403 1.00772  1.0021   0.962609 0.951958 1.11114 1.04173  1.08787  ;... % 2
         1.46226  1.47953  1.4352   1.57933  1.63953  1.49149  1.48394  1.5392  1.50013  1.44795  ;... % 3
         1.98742  2.0309   1.8877   1.95471  1.77487  1.9557   2.16689  2.12446 2.00797  2.15944  ;... % 4
         2.52798  2.46796  2.53471  2.62974  2.41167  2.61996  2.6279   2.35981 2.52835  2.55115  ;... % 5
         3.01083  3.18642  3.067    3.22741  3.12212  3.03983  3.05077  3.04394 2.99185  2.97937  ;... % 6
         3.49962  3.41533  3.42793  3.68793  3.44395  3.66779  3.55584  3.27551 3.4075   3.61805  ;... % 7
         3.3389   3.90797  4.23092  3.996    3.93063  3.79561  3.82399  4.0159  4.09547  3.80776  ;... % 8
         3.8872   4.21599  4.53992  4.0998   4.27509  4.06389  4.4277   4.18198 4.38558  4.15583  ;... % 9
         4.04253  4.74237  4.75599  4.5435   4.42159  4.47989  4.5061   4.42298 4.41999  4.30303  ;... % 10
         3.91885  4.65953  4.78356  4.53108  4.54574  4.72609  4.63106  4.65184 4.38233  4.58606  ;... % 11
         4.08794  4.65792  4.81519  4.23513  4.69185  4.63193  4.56385  4.59977 4.54693  4.65813  ;... % 12
         4.21092  4.76954  4.74127  4.29591  4.51456  4.55996  4.61594  4.48382 4.58642  4.39178  ;... % 13
         4.09593  4.59795  4.78168  4.27918  4.56321  4.62235  4.60347  4.3999  4.5674   4.35106  ;... % 14
         4.19597  4.71173  4.71865  4.55767  4.67476  4.50911  4.44377  4.51997 4.42158  4.80061  ];   % 15
     
mThrBA = mean(thrBA,2)./nStasBA;
effBA = 100*mThrBA./(simTime*offeData);

%% Without BA and Aggregation

nStas = [1:15]';
%          1        2       3         4       5         6       7         8        9        0
thr = [0.45598  0.49902  0.475762 0.467119 0.424739 0.467287 0.428468 0.494538 0.471965 0.503984 ;... % 1
       0.969783 1.04405  1.04204  1.08483  0.991031 1.06727  0.947977 1.00125  0.999581 0.969017 ;... % 2
       1.50299  1.53905  1.47238  1.49059  1.52226  1.56688  1.53998  1.67306  1.61786  1.64787  ;... % 3
       1.83357  1.94332  1.80326  2.20153  1.95264  2.01545  1.7518   1.94454  2.00241  1.85552  ;... % 4
       2.57443  2.38397  2.09974  2.70357  2.45381  2.45574  2.41139  2.392    2.38738  2.50395  ;... % 5
       3.18775  2.9751   3.10798  3.05995  2.97999  3.10638  3.03589  2.96399  2.73939  2.97969  ;... % 6
       3.57527  3.81997  3.392    3.65114  3.4897   3.47816  3.28394  3.49593  3.56797  3.29017  ;... % 7
       3.11993  3.83949  3.91544  3.08297  3.19136  3.47995  3.2439   3.8584   3.58309  3.44396  ;... % 8
       3.64365  3.9759   4.29439  3.85582  3.91598  4.12398  3.94779  3.86393  4.08732  3.54684  ;... % 9
       3.38745  4.1839   4.35973  3.91418  3.3629   4.08393  3.99598  4.07312  3.4345   3.44268  ;... % 10
       3.35582  4.15878  4.38664  4.03889  4.03558  4.23598  4.17055  4.05197  3.98763  4.25702  ;... % 11
       3.78242  4.38673  4.33562  3.86381  3.85999  4.30389  3.58397  4.09157  4.10747  3.915    ;... % 12
       3.664    4.19971  4.42797  3.83993  4.13783  4.1143   4.10361  3.96545  4.11128  4.02305  ;... % 13
       3.38294  4.30797  4.29199  3.78784  4.04997  4.42392  4.16324  4.13113  4.0538   4.14577  ;... % 14
       4.07978  4.45546  4.42213  4.21592];   % 15
     
mThr = mean(thr,2)./nStas;
eff = 100*mThr./(simTime*offeData);
     
%% Plot

fittedBA = fit(nStasBA,effBA,'smoothingspline');
h = plot(fittedBA,'-');
set(h,'LineWidth',2);
hold on;
plot(nStasBA,effBA,'o','LineWidth',2);



xlabel('Numero de estacoes');
ylabel('Eficiencia de Throughput Medio [%]')
legend off
grid on;
hold off;
print('-dbmp','thrVSSta');
