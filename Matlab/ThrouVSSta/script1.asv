clc
clear all
close all
%% General

offeData = 0.5;
simTime = 1.1;

%% With BA and Aggregation

nStasBA = [1:15]';
thrBA = [0.515988 0.475575 0.530536 0.546736 0.479758 0.528566 0.465785 0.49475 0.532369 0.527809 ;... % 1
         0.867896 1.0159   0.951403 1.00772  1.0021   0.962609 0.951958 1.11114 1.04173  1.08787  ;... % 2
         1.46226  1.47953  1.4352   1.57933  1.63953  1.49149  1.48394  1.5392  1.50013  1.44795  ;... % 3
         1.98742  2.0309   1.8877   1.95471  1.77487  1.9557   2.16689  2.12446 2.00797  2.15944  ;... % 4
         2.52798  2.46796  2.53471  2.62974  2.41167  2.61996  2.6279   2.35981 2.52835  2.55115  ;... % 5
         3.01083  3.18642  3.067    3.22741  3.12212  3.03983  3.05077  3.04394 2.99185  2.97937  ;... % 6
         3.49962  3.41533  3.42793  3.68793  3.44395  3.66779  3.55584  3.27551 3.4075   3.61805  ;... % 7
         3.3389   3.90797  4.23092  3.996    3.93063  3.79561  ;... % 8
         3.8872   4.21599  4.53992  4.0998   4.27509  ;... % 9
         4.04253  4.74237  4.75599  4.5435   4.42159  ;... % 10
         3.91885  4.65953  4.78356  4.53108  4.54574  ;... % 11
         4.08794  4.65792  4.81519  4.23513  4.69185  ;... % 12
         4.21092  4.76954  4.74127  4.29591  4.51456  ;... % 13
         4.09593  4.59795  4.78168  4.27918  4.56321  ;... % 14
         4.19597  4.71173  4.71865  4.55767  4.67476  ];   % 15
     
mThrBA = mean(thrBA,2)./nStasBA;
effBA = 100*mThrBA./(simTime*offeData);
     
%% Plot

fitted = fit(nStasBA,effBA,'smoothingspline');
plot(fitted,'-');
xlabel('Numero de estacoes');
ylabel('Eficiencia de Throughput [%]')
hold on;
plot(nStasBA,effBA,'o','LineWidth',2);
legend('Curva ajustada','Pontos de dados');
axis([1 15 min(effBA) max(effBA)])
grid on;
hold off;
